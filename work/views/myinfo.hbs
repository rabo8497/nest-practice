<!DOCTYPE html>
<html>
  <head>
    <title>My Website</title>
    <style>
      /* CSS styles for the top bar */
      header {
        background-color: #333;
        color: #fff;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px;
      }
      
      #logo {
        font-size: 24px;
        font-weight: bold;
        text-transform: uppercase;
        letter-spacing: 2px;
      }
      
      nav {
        display: flex;
      }
      
      nav ul {
        list-style: none;
        margin: 0;
        padding: 0;
        display: flex;
      }
      
      nav li {
        margin-left: 20px;
      }
      
      nav a {
        color: #fff;
        text-decoration: none;
        font-size: 16px;
        font-weight: bold;
        text-transform: uppercase;
        letter-spacing: 1px;
        padding: 5px 10px;
        border-radius: 5px;
        transition: background-color 0.3s ease;
      }
      
      nav a:hover {
        background-color: #fff;
        color: #333;
      }
    </style>
    <title>My Personal Information</title>
  </head>
  <body>
    <header>
      <div id="logo">My Website</div>
      <nav>
        <ul>
          <li><a href="http://localhost:3000/home">Home</a></li>
          <li><a href="http://localhost:3000/auth/myinfo">Me</a></li>
        </ul>
      </nav>
    </header>
    <main>
        <head>
	<title>Personal Information</title>
	<script>
		function logout() {
			// code to logout goes here
			alert("Logged out successfully!");
      localStorage.removeItem('token')
      window.location = "http://localhost:3000/home"
		}
	</script>
</head>
<body>
	<h1>Personal Information</h1>
	<p>Nickname: <span id="nickname"></span></p>
	<p>Favorite Instruments:</p>
	<ul>
		<li><span id="instrument1"></span></li>
		<li><span id="instrument2"></span></li>
	</ul>
	<button onclick="logout()">Logout</button>
	<script>
		var nickname_ = document.getElementById("nickname")
    var instrument1_ = document.getElementById("instrument1")
    var instrument2_ = document.getElementById("instrument2")
    const Token = localStorage.getItem('token');

    fetch("http://localhost:3000/schedule/myinfo", {
      method: "GET", // GET 요청
      headers: {
        "Authorization": `Bearer ${Token}` // 헤더에 토큰 값 추가
      }
    })
    .then(response => response.json()) // 응답을 JSON 형식으로 변환
    .then(data => {
      nickname_.innerHTML = data[0]
      instrument1_.innerHTML = data[1]
      instrument2_.innerHTML = data[2]
    }) // 데이터 출력
    .catch(error => console.error(error));
	</script>
</body>
    </main>
  </body>
</html>